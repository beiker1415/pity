"use strict";(self.webpackChunkpity=self.webpackChunkpity||[]).push([[9722],{51042:function(re,A,e){var S=e(1413),y=e(67294),b=e(42110),c=e(84089),F=function(f,Z){return y.createElement(c.Z,(0,S.Z)((0,S.Z)({},f),{},{ref:Z,icon:b.Z}))};F.displayName="PlusOutlined",A.Z=y.forwardRef(F)},646:function(re,A,e){var S=e(86738),y=e(85893);A.Z=function(b){var c=b.title,F=b.text,T=b.onConfirm;return(0,y.jsx)(S.Z,{title:c,onConfirm:T,children:(0,y.jsx)("a",{children:F})})}},84298:function(re,A,e){var S=e(97857),y=e.n(S),b=e(5574),c=e.n(b),F=e(67294),T=e(52445),f=e(85576),Z=e(15746),I=e(76081),M=e(85893),k=T.Z.Item,R=function(C){var q=C.title,_=C.width,X=C.left,z=C.right,le=C.formName,N=C.record,J=C.onFinish,G=C.loading,ee=C.fields,a=C.open,n=C.onCancel,v=C.offset,g=v===void 0?0:v,t=C.children,o=C.Footer,s=C.onTest,r=T.Z.useForm(),l=c()(r,1),u=l[0],d=function(){u.validateFields().then(function(h){J(h)})};(0,F.useEffect)(function(){u.resetFields(),u.setFieldsValue(N)},[N]);var m={labelCol:{span:X},wrapperCol:{span:z}};return(0,M.jsxs)(f.Z,{style:{marginTop:g},confirmLoading:G,footer:o!==void 0?(0,M.jsx)(o,{onOk:d,onCancel:n,onTest:function(){u.validateFields().then(function(h){s(h)})}}):void 0,title:q,width:_,open:a,onOk:d,onCancel:n,children:[t||null,(0,M.jsx)(T.Z,y()(y()({form:u},m),{},{name:le,initialValues:N,onFinish:J,children:ee.map(function(i,h){return(0,M.jsx)(Z.Z,{span:i.span||24,children:(0,M.jsx)(k,{label:i.label,colon:i.colon||!0,initialValue:i.initialValue,rules:[{required:i.required,message:i.message}],name:i.name,valuePropName:i.valuePropName||"value",children:(0,I.Z)(i.type,i.placeholder,i.component)})},h)})}))]})};A.Z=R},76081:function(re,A,e){var S=e(96365),y=e(72269),b=e(67294),c=e(85893),F=S.Z.TextArea,T=function(Z,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return M||(Z==="input"?(0,c.jsx)(S.Z,{placeholder:I}):Z==="textarea"?(0,c.jsx)(F,{placeholder:I}):Z==="switch"?(0,c.jsx)(y.Z,{}):null)};A.Z=T},66815:function(re,A,e){e.r(A),e.d(A,{default:function(){return r}});var S=e(97857),y=e.n(S),b=e(15009),c=e.n(b),F=e(99289),T=e.n(F),f=e(5574),Z=e.n(f),I=e(67294),M=e(11609),k=e(90596),R=e(34041),L=e(52445),C=e(51904),q=e(96074),_=e(4393),X=e(71230),z=e(15746),le=e(71577),N=e(96365),J=e(64997),G=e(19478),ee=e(83062),a=e(85893),n=function(l){var u=l.icon,d=l.title,m=l.font,i=l.style,h=l.text,E=l.onClick;return(0,a.jsx)(ee.Z,{title:d,children:(0,a.jsxs)("span",{onClick:E,style:y()({cursor:"pointer",fontSize:m},i),children:[u," ",h]})})},v=e(51042),g=e(84298),t=e(646),o=R.Z.Option,s=function(u){var d=u.loading,m=u.gconfig,i=u.dispatch,h=L.Z.useForm(),E=Z()(h,1),K=E[0],Y=m.envList,B=m.envMap,ne=m.addressList,W=(0,I.useState)(!1),D=Z()(W,2),Q=D[0],O=D[1],se=(0,I.useState)({}),ae=Z()(se,2),U=ae[0],te=ae[1],ie=function(){i({type:"gconfig/fetchEnvList",payload:{page:1,size:1e3,exactly:!0}})},p=function(){var $=K.getFieldsValue();i({type:"gconfig/fetchAddress",payload:$})},P=d.effects["gconfig/fetchAddress"]||d.effects["gconfig/fetchEnvList"]||d.effects["gconfig/updateAddress"]||d.effects["gconfig/insertAddress"]||d.effects["gconfig/deleteAddress"];(0,I.useEffect)(function(){ie(),p()},[]);var oe=[{title:"\u73AF\u5883",key:"env",dataIndex:"env",render:function($){return(0,a.jsx)(C.Z,{children:B[$]})}},{title:"\u540D\u79F0",key:"name",dataIndex:"name"},{title:(0,a.jsx)(n,{title:"\u5730\u5740\u4E00\u822C\u662F\u670D\u52A1\u7684\u57FA\u7840\u5730\u5740\uFF0C\u6BD4\u5982https://api.baidu.com, \u7528\u4F8B\u4E2D\u7684\u5730\u5740\u7B80\u5199\u5373\u53EF",text:"\u5730\u5740"}),key:"gateway",dataIndex:"gateway",render:function($){return(0,a.jsx)("a",{href:$,children:$})},ellipsis:!0},{title:"\u64CD\u4F5C",key:"operation",render:function($,V){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{onClick:function(){te(V),O(!0)},children:"\u7F16\u8F91"}),(0,a.jsx)(q.Z,{type:"vertical"}),(0,a.jsx)(t.Z,{text:"\u5220\u9664",title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u5730\u5740\u5417?",onConfirm:T()(c()().mark(function H(){return c()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,w(V);case 2:case"end":return x.stop()}},H)}))})]})}}],ce=[{name:"env",label:"\u73AF\u5883",required:!0,message:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u73AF\u5883",type:"select",component:(0,a.jsx)(R.Z,{placeholder:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u73AF\u5883",children:Y.map(function(j){return(0,a.jsx)(o,{value:j.id,children:j.name},j.id)})})},{name:"name",label:"\u5730\u5740\u540D\u79F0",required:!0,message:"\u8BF7\u8F93\u5165\u5730\u5740\u540D\u79F0",type:"input",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740\u540D\u79F0"},{name:"gateway",label:"\u670D\u52A1\u5730\u5740",required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740",type:"input",placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740"}],w=function(){var j=T()(c()().mark(function $(V){var H;return c()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,i({type:"gconfig/deleteAddress",payload:{id:V.id}});case 2:H=x.sent,H&&p();case 4:case"end":return x.stop()}},$)}));return function(V){return j.apply(this,arguments)}}(),ue=function(){var j=T()(c()().mark(function $(V){var H;return c()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!U.id){x.next=6;break}return x.next=3,i({type:"gconfig/updateAddress",payload:y()(y()({},V),{},{id:U.id})});case 3:H=x.sent,x.next=9;break;case 6:return x.next=8,i({type:"gconfig/insertAddress",payload:V});case 8:H=x.sent;case 9:H&&(O(!1),p());case 10:case"end":return x.stop()}},$)}));return function(V){return j.apply(this,arguments)}}();return(0,a.jsx)(M._z,{breadcrumb:null,title:"\u8BF7\u6C42\u5730\u5740\u7BA1\u7406",children:(0,a.jsxs)(_.Z,{children:[(0,a.jsx)(g.Z,{open:Q,fields:ce,title:U.id?"\u4FEE\u6539\u5730\u5740":"\u6DFB\u52A0\u5730\u5740",left:6,right:18,record:U,onFinish:ue,onCancel:function(){return O(!1)}}),(0,a.jsx)(L.Z,y()(y()({form:K},G.Z.LAYOUT),{},{onValuesChange:p,children:(0,a.jsxs)(X.Z,{gutter:12,children:[(0,a.jsx)(z.Z,{span:3,children:(0,a.jsx)(L.Z.Item,{children:(0,a.jsxs)(le.ZP,{type:"primary",onClick:function(){O(!0),te({})},children:[(0,a.jsx)(v.Z,{}),"\u6DFB\u52A0\u5730\u5740"]})})}),(0,a.jsx)(z.Z,{span:7,children:(0,a.jsx)(L.Z.Item,{label:"\u73AF\u5883",name:"env",children:(0,a.jsx)(R.Z,{allowClear:!0,showSearch:!0,placeholder:"\u9009\u62E9\u5BF9\u5E94\u7684\u73AF\u5883",children:Y.map(function(j){return(0,a.jsx)(o,{value:j.id,children:j.name},j.id)})})})}),(0,a.jsx)(z.Z,{span:7,children:(0,a.jsx)(L.Z.Item,{label:"\u540D\u79F0",name:"name",children:(0,a.jsx)(N.Z,{placeholder:"\u8F93\u5165\u5BF9\u5E94\u7684\u5730\u5740\u540D\u79F0"})})}),(0,a.jsx)(z.Z,{span:7,children:(0,a.jsx)(L.Z.Item,{label:"\u5730\u5740",name:"gateway",children:(0,a.jsx)(N.Z,{placeholder:"\u8F93\u5165\u5BF9\u5E94\u7684\u5730\u5740"})})})]})})),(0,a.jsx)(J.Z,{columns:oe,loading:P,rowKey:function($){return $.id},dataSource:ne})]})})},r=(0,k.connect)(function(l){var u=l.gconfig,d=l.user,m=l.loading;return{gconfig:u,user:d,loading:m}})((0,I.memo)(s))},86738:function(re,A,e){e.d(A,{Z:function(){return g}});var S=e(26702),y=e(94184),b=e.n(y),c=e(15105),F=e(21770),T=e(98423),f=e(67294),Z=e(96159),I=e(53124),M=e(55241),k=e(86743),R=e(81643),L=e(71577),C=e(85432),q=e(10110),_=e(40378),X=e(60590),z=e(67968);const le=t=>{const{componentCls:o,iconCls:s,antCls:r,zIndexPopup:l,colorText:u,colorWarning:d,marginXXS:m,marginXS:i,fontSize:h,fontWeightStrong:E,colorTextHeading:K}=t;return{[o]:{zIndex:l,[`&${r}-popover`]:{fontSize:h},[`${o}-message`]:{marginBottom:i,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${o}-message-icon ${s}`]:{color:d,fontSize:h,lineHeight:1,marginInlineEnd:i},[`${o}-title`]:{fontWeight:E,color:K,"&:only-child":{fontWeight:"normal"}},[`${o}-description`]:{marginTop:m,color:u}},[`${o}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:i}}}}};var N=(0,z.Z)("Popconfirm",t=>le(t),t=>{const{zIndexPopupBase:o}=t;return{zIndexPopup:o+60}}),J=function(t,o){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)o.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(s[r[l]]=t[r[l]]);return s};const G=t=>{const{prefixCls:o,okButtonProps:s,cancelButtonProps:r,title:l,description:u,cancelText:d,okText:m,okType:i="primary",icon:h=f.createElement(S.Z,null),showCancel:E=!0,close:K,onConfirm:Y,onCancel:B,onPopupClick:ne}=t,{getPrefixCls:W}=f.useContext(I.E_),[D]=(0,q.Z)("Popconfirm",_.Z.Popconfirm),Q=(0,R.Z)(l),O=(0,R.Z)(u);return f.createElement("div",{className:`${o}-inner-content`,onClick:ne},f.createElement("div",{className:`${o}-message`},h&&f.createElement("span",{className:`${o}-message-icon`},h),f.createElement("div",{className:`${o}-message-text`},Q&&f.createElement("div",{className:b()(`${o}-title`)},Q),O&&f.createElement("div",{className:`${o}-description`},O))),f.createElement("div",{className:`${o}-buttons`},E&&f.createElement(L.ZP,Object.assign({onClick:B,size:"small"},r),d!=null?d:D==null?void 0:D.cancelText),f.createElement(k.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,C.n)(i)),s),actionFn:Y,close:K,prefixCls:W("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},m!=null?m:D==null?void 0:D.okText)))};var a=t=>{const{prefixCls:o,placement:s,className:r,style:l}=t,u=J(t,["prefixCls","placement","className","style"]),{getPrefixCls:d}=f.useContext(I.E_),m=d("popconfirm",o),[i]=N(m);return i(f.createElement(X.ZP,{placement:s,className:b()(m,r),style:l,content:f.createElement(G,Object.assign({prefixCls:m},u))}))},n=function(t,o){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)o.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(s[r[l]]=t[r[l]]);return s};const v=f.forwardRef((t,o)=>{const{prefixCls:s,placement:r="top",trigger:l="click",okType:u="primary",icon:d=f.createElement(S.Z,null),children:m,overlayClassName:i,onOpenChange:h,onVisibleChange:E}=t,K=n(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:Y}=f.useContext(I.E_),[B,ne]=(0,F.Z)(!1,{value:t.open,defaultValue:t.defaultOpen}),W=(p,P)=>{ne(p,!0),E==null||E(p),h==null||h(p,P)},D=p=>{W(!1,p)},Q=p=>{var P;return(P=t.onConfirm)===null||P===void 0?void 0:P.call(void 0,p)},O=p=>{var P;W(!1,p),(P=t.onCancel)===null||P===void 0||P.call(void 0,p)},se=p=>{p.keyCode===c.Z.ESC&&B&&W(!1,p)},ae=p=>{const{disabled:P=!1}=t;P||W(p)},U=Y("popconfirm",s),te=b()(U,i),[ie]=N(U);return ie(f.createElement(M.Z,Object.assign({},(0,T.Z)(K,["title"]),{trigger:l,placement:r,onOpenChange:ae,open:B,ref:o,overlayClassName:te,content:f.createElement(G,Object.assign({okType:u,icon:d},t,{prefixCls:U,close:D,onConfirm:Q,onCancel:O})),"data-popover-inject":!0}),(0,Z.Tm)(m,{onKeyDown:p=>{var P,oe;f.isValidElement(m)&&((oe=m==null?void 0:(P=m.props).onKeyDown)===null||oe===void 0||oe.call(P,p)),se(p)}})))});v._InternalPanelDoNotUseOrYouWillBeFired=a;var g=v},51904:function(re,A,e){e.d(A,{Z:function(){return a}});var S=e(62208),y=e(94184),b=e.n(y),c=e(67294),F=e(98787),T=e(69760),f=e(45353),Z=e(53124);function I(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}var M=e(14747),k=e(98719),R=e(67968),L=e(45503);const C=(n,v,g)=>{const t=I(g);return{[`${n.componentCls}-${v}`]:{color:n[`color${g}`],background:n[`color${t}Bg`],borderColor:n[`color${t}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},q=n=>(0,k.Z)(n,(v,g)=>{let{textColor:t,lightBorderColor:o,lightColor:s,darkColor:r}=g;return{[`${n.componentCls}-${v}`]:{color:t,background:s,borderColor:o,"&-inverse":{color:n.colorTextLightSolid,background:r,borderColor:r},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),_=n=>{const{paddingXXS:v,lineWidth:g,tagPaddingHorizontal:t,componentCls:o}=n,s=t-g,r=v-g;return{[o]:Object.assign(Object.assign({},(0,M.Wf)(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:s,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${o}-close-icon`]:{marginInlineStart:r,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}};var X=(0,R.Z)("Tag",n=>{const{lineWidth:v,fontSizeIcon:g}=n,t=n.fontSizeSM,o=`${n.lineHeightSM*t}px`,s=(0,L.TS)(n,{tagFontSize:t,tagLineHeight:o,tagIconSize:g-2*v,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary});return[_(s),q(s),C(s,"success","Success"),C(s,"processing","Info"),C(s,"error","Error"),C(s,"warning","Warning")]},n=>({defaultBg:n.colorFillQuaternary,defaultColor:n.colorText})),z=function(n,v){var g={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&v.indexOf(t)<0&&(g[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)v.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(g[t[o]]=n[t[o]]);return g},N=n=>{const{prefixCls:v,className:g,checked:t,onChange:o,onClick:s}=n,r=z(n,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:l}=c.useContext(Z.E_),u=E=>{o==null||o(!t),s==null||s(E)},d=l("tag",v),[m,i]=X(d),h=b()(d,`${d}-checkable`,{[`${d}-checkable-checked`]:t},g,i);return m(c.createElement("span",Object.assign({},r,{className:h,onClick:u})))},J=function(n,v){var g={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&v.indexOf(t)<0&&(g[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)v.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(g[t[o]]=n[t[o]]);return g};const G=(n,v)=>{const{prefixCls:g,className:t,rootClassName:o,style:s,children:r,icon:l,color:u,onClose:d,closeIcon:m,closable:i,bordered:h=!0}=n,E=J(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:K,direction:Y,tag:B}=c.useContext(Z.E_),[ne,W]=c.useState(!0);c.useEffect(()=>{"visible"in E&&W(E.visible)},[E.visible]);const D=(0,F.o2)(u)||(0,F.yT)(u),Q=Object.assign(Object.assign({backgroundColor:u&&!D?u:void 0},B==null?void 0:B.style),s),O=K("tag",g),[se,ae]=X(O),U=b()(O,B==null?void 0:B.className,{[`${O}-${u}`]:D,[`${O}-has-color`]:u&&!D,[`${O}-hidden`]:!ne,[`${O}-rtl`]:Y==="rtl",[`${O}-borderless`]:!h},t,o,ae),te=w=>{w.stopPropagation(),d==null||d(w),!w.defaultPrevented&&W(!1)},[,ie]=(0,T.Z)(i,m,w=>w===null?c.createElement(S.Z,{className:`${O}-close-icon`,onClick:te}):c.createElement("span",{className:`${O}-close-icon`,onClick:te},w),null,!1),p=typeof E.onClick=="function"||r&&r.type==="a",P=l||null,oe=P?c.createElement(c.Fragment,null,P,r&&c.createElement("span",null,r)):r,ce=c.createElement("span",Object.assign({},E,{ref:v,className:U,style:Q}),oe,ie);return se(p?c.createElement(f.Z,{component:"Tag"},ce):ce)},ee=c.forwardRef(G);ee.CheckableTag=N;var a=ee}}]);
