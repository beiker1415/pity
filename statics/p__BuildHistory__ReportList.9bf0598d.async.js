"use strict";(self.webpackChunkpity=self.webpackChunkpity||[]).push([[6482],{63100:function(S,E,t){var j=t(67294),u=t(61607);E.Z=(0,u.a1)("send",!0,function(n){return j.createElement("svg",{width:n.size,height:n.size,viewBox:"0 0 48 48",fill:"none"},j.createElement("path",{d:"M43 5L29.7 43L22.1 25.9L5 18.3L43 5Z",stroke:n.colors[0],strokeWidth:n.strokeWidth,strokeLinejoin:n.strokeLinejoin}),j.createElement("path",{d:"M43.0001 5L22.1001 25.9",stroke:n.colors[0],strokeWidth:n.strokeWidth,strokeLinecap:n.strokeLinecap,strokeLinejoin:n.strokeLinejoin}))})},75574:function(S,E,t){var j=t(53575),u=t(51904),n=t(85893);E.Z={STATUS:{0:(0,n.jsx)(j.Z,{status:"default",text:"\u51C6\u5907\u4E2D"}),1:(0,n.jsx)(j.Z,{status:"processing",text:"\u8FD0\u884C\u4E2D"}),2:(0,n.jsx)(j.Z,{status:"error",text:"\u5DF2\u505C\u6B62"}),3:(0,n.jsx)(j.Z,{status:"success",text:"\u5DF2\u5B8C\u6210"})},EXECUTE_METHOD:{0:"\u624B\u52A8",1:"\u81EA\u52A8",2:"\u6D4B\u8BD5\u8BA1\u5212",3:"PIPELINE",4:"\u5176\u4ED6"},EXECUTE_STATUS:{0:"\u6210\u529F",1:"\u5931\u8D25",2:"\u51FA\u9519",3:"\u8DF3\u8FC7"},EXECUTE_BADGE_STATUS:{0:"success",1:"error",2:"warning",3:"default"},METHOD_TAG:{GET:(0,n.jsx)(u.Z,{color:"success",children:"GET"}),POST:(0,n.jsx)(u.Z,{color:"blue",children:"POST"}),PUT:(0,n.jsx)(u.Z,{color:"purple",children:"PUT"}),DELETE:(0,n.jsx)(u.Z,{color:"red",children:"DELETE"})}}},12554:function(S,E,t){t.d(E,{Z:function(){return m}});var j=t(67294),u=t(7134),n=t(83062),_={menu:"menu___lmCy5",right:"right___j6QWS",action:"action___qDzB9",search:"search___XbFIL",account:"account___t6Nrx",avatar:"avatar___B76fn",dark:"dark___VDMBa","ant-badge-count-sm":"ant-badge-count-sm___oPFlX"},r=t(19478),c=Object.defineProperty,D=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,x=(l,i,M)=>i in l?c(l,i,{enumerable:!0,configurable:!0,writable:!0,value:M}):l[i]=M,I=(l,i)=>{for(var M in i||(i={}))o.call(i,M)&&x(l,M,i[M]);if(D)for(var M of D(i))g.call(i,M)&&x(l,M,i[M]);return l};const C=l=>React.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",xmlSpace:"preserve"},l),React.createElement("linearGradient",{id:"logo_svg__a",gradientUnits:"userSpaceOnUse",x1:413.111,y1:255.835,x2:145.446,y2:255.835},React.createElement("stop",{offset:.034,style:{stopColor:"#e700e6"}}),React.createElement("stop",{offset:1,style:{stopColor:"#29abe2"}})),React.createElement("path",{fill:"url(#logo_svg__a)",d:"m475.4 248.3-93.7-124.9c0-.1-.1-.1-.2-.2-.2-.2-.4-.5-.6-.7l-.3-.3-.8-.8c-.1 0-.1-.1-.2-.2-.3-.3-.7-.5-1.1-.8-.1-.1-.2-.1-.3-.2-.3-.2-.6-.4-.9-.5-.1-.1-.2-.1-.4-.2-.3-.1-.6-.3-.9-.4-.1 0-.3-.1-.4-.1l-.9-.3c-.1 0-.3-.1-.4-.1-.3-.1-.7-.1-1-.2-.1 0-.2 0-.4-.1-.5-.1-.9-.1-1.4-.1H117.6c-6.9 0-12.5 5.6-12.5 12.5s5.6 12.5 12.5 12.5h79.5c4.8 0 8.7 3.9 8.7 8.8 0 2.4-1 4.6-2.6 6.2-1.6 1.6-3.8 2.6-6.2 2.6H72.2c-6.9 0-12.5 5.6-12.5 12.5s5.6 12.5 12.5 12.5h90.1c7.6 0 13.7 6.2 13.7 13.7 0 3.8-1.5 7.2-4 9.7-2.5 2.5-5.8 4-9.6 4H28.5c-6.9 0-12.5 5.6-12.5 12.5s5.6 12.5 12.5 12.5h83.3c9.6 0 17.5 7.9 17.5 17.5 0 4.8-2 9.2-5.1 12.4-3.2 3.2-7.5 5.1-12.3 5.1h-52c-6.9 0-12.5 5.6-12.5 12.5s5.6 12.5 12.5 12.5H157c3.9 0 7.5 1.2 10.4 3.3 3.4 2.3 6.1 5.8 7.3 9.8.6 1.8.9 3.7.9 5.8 0 5.2-2.1 9.9-5.5 13.3-3.4 3.4-8.1 5.5-13.3 5.5H123c-6.9 0-12.5 5.6-12.5 12.5s5.6 12.5 12.5 12.5H201.9c2 0 3.6 1.6 3.6 3.6 0 1-.4 1.9-1.1 2.6-.6.7-1.6 1.1-2.5 1.1h-17.1c-6.9 0-12.5 5.6-12.5 12.5s5.6 12.5 12.5 12.5h186.8c.5 0 1 0 1.5-.1s.9-.1 1.3-.2c.1 0 .1 0 .2-.1.4-.1.8-.2 1.1-.3.1 0 .2-.1.2-.1.4-.1.7-.3 1-.4.1 0 .2-.1.2-.1.3-.2.7-.4 1-.6.1 0 .1-.1.2-.1.4-.3.8-.5 1.1-.8l.1-.1c.3-.3.6-.5.9-.8l.3-.3c.2-.2.4-.4.6-.7l.2-.2 93.7-124.9c3.5-4.5 3.5-10.6.2-15.1zM288 143.4h58.7l-37.5 50-37.5-50H288zm-109.2 98.8 13-17.3 34.7-46.4 5.3-7.1 14.9-19.8 6.3 8.4 40.5 54-21.9 29.2H178l.8-1zM253 368.3l-15.8-21-40.6-54.1-9.9-13.2-8.7-11.6h93.7l75 100H253zm169.3-75.8L392 255.8l-13.4 19.1 29.9 36.1-36.7 49-78.1-104.1 78.1-104.1 78.1 104.1-27.6 36.6z"}),React.createElement("linearGradient",{id:"logo_svg__b",gradientUnits:"userSpaceOnUse",x1:413.111,y1:166.309,x2:145.445,y2:166.309},React.createElement("stop",{offset:.034,style:{stopColor:"#e700e6"}}),React.createElement("stop",{offset:1,style:{stopColor:"#29abe2"}})),React.createElement("path",{fill:"url(#logo_svg__b)",d:"M331.9 152.6h-42.7l20.6 27.4z"}));var A="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MDAgNTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48bGluZWFyR3JhZGllbnQgaWQ9ImEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNDEzLjExMSIgeTE9IjI1NS44MzUiIHgyPSIxNDUuNDQ2IiB5Mj0iMjU1LjgzNSI+PHN0b3Agb2Zmc2V0PSIuMDM0IiBzdHlsZT0ic3RvcC1jb2xvcjojZTcwMGU2Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMjlhYmUyIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJtNDc1LjQgMjQ4LjMtOTMuNy0xMjQuOWMwLS4xLS4xLS4xLS4yLS4yLS4yLS4yLS40LS41LS42LS43bC0uMy0uMy0uOC0uOGMtLjEgMC0uMS0uMS0uMi0uMi0uMy0uMy0uNy0uNS0xLjEtLjgtLjEtLjEtLjItLjEtLjMtLjItLjMtLjItLjYtLjQtLjktLjUtLjEtLjEtLjItLjEtLjQtLjItLjMtLjEtLjYtLjMtLjktLjQtLjEgMC0uMy0uMS0uNC0uMWwtLjktLjNjLS4xIDAtLjMtLjEtLjQtLjEtLjMtLjEtLjctLjEtMS0uMi0uMSAwLS4yIDAtLjQtLjEtLjUtLjEtLjktLjEtMS40LS4xSDExNy42Yy02LjkgMC0xMi41IDUuNi0xMi41IDEyLjVzNS42IDEyLjUgMTIuNSAxMi41aDc5LjVjNC44IDAgOC43IDMuOSA4LjcgOC44IDAgMi40LTEgNC42LTIuNiA2LjItMS42IDEuNi0zLjggMi42LTYuMiAyLjZINzIuMmMtNi45IDAtMTIuNSA1LjYtMTIuNSAxMi41czUuNiAxMi41IDEyLjUgMTIuNWg5MC4xYzcuNiAwIDEzLjcgNi4yIDEzLjcgMTMuNyAwIDMuOC0xLjUgNy4yLTQgOS43LTIuNSAyLjUtNS44IDQtOS42IDRIMjguNWMtNi45IDAtMTIuNSA1LjYtMTIuNSAxMi41czUuNiAxMi41IDEyLjUgMTIuNWg4My4zYzkuNiAwIDE3LjUgNy45IDE3LjUgMTcuNSAwIDQuOC0yIDkuMi01LjEgMTIuNC0zLjIgMy4yLTcuNSA1LjEtMTIuMyA1LjFoLTUyYy02LjkgMC0xMi41IDUuNi0xMi41IDEyLjVzNS42IDEyLjUgMTIuNSAxMi41SDE1N2MzLjkgMCA3LjUgMS4yIDEwLjQgMy4zIDMuNCAyLjMgNi4xIDUuOCA3LjMgOS44LjYgMS44LjkgMy43LjkgNS44IDAgNS4yLTIuMSA5LjktNS41IDEzLjMtMy40IDMuNC04LjEgNS41LTEzLjMgNS41SDEyM2MtNi45IDAtMTIuNSA1LjYtMTIuNSAxMi41czUuNiAxMi41IDEyLjUgMTIuNUgyMDEuOWMyIDAgMy42IDEuNiAzLjYgMy42IDAgMS0uNCAxLjktMS4xIDIuNi0uNi43LTEuNiAxLjEtMi41IDEuMWgtMTcuMWMtNi45IDAtMTIuNSA1LjYtMTIuNSAxMi41czUuNiAxMi41IDEyLjUgMTIuNWgxODYuOGMuNSAwIDEgMCAxLjUtLjFzLjktLjEgMS4zLS4yYy4xIDAgLjEgMCAuMi0uMS40LS4xLjgtLjIgMS4xLS4zLjEgMCAuMi0uMS4yLS4xLjQtLjEuNy0uMyAxLS40LjEgMCAuMi0uMS4yLS4xLjMtLjIuNy0uNCAxLS42LjEgMCAuMS0uMS4yLS4xLjQtLjMuOC0uNSAxLjEtLjhsLjEtLjFjLjMtLjMuNi0uNS45LS44bC4zLS4zYy4yLS4yLjQtLjQuNi0uN2wuMi0uMiA5My43LTEyNC45YzMuNS00LjUgMy41LTEwLjYuMi0xNS4xek0yODggMTQzLjRoNTguN2wtMzcuNSA1MC0zNy41LTUwSDI4OHptLTEwOS4yIDk4LjggMTMtMTcuMyAzNC43LTQ2LjQgNS4zLTcuMSAxNC45LTE5LjggNi4zIDguNCA0MC41IDU0LTIxLjkgMjkuMkgxNzhsLjgtMXpNMjUzIDM2OC4zbC0xNS44LTIxLTQwLjYtNTQuMS05LjktMTMuMi04LjctMTEuNmg5My43bDc1IDEwMEgyNTN6bTE2OS4zLTc1LjhMMzkyIDI1NS44bC0xMy40IDE5LjEgMjkuOSAzNi4xLTM2LjcgNDktNzguMS0xMDQuMSA3OC4xLTEwNC4xIDc4LjEgMTA0LjEtMjcuNiAzNi42eiIvPjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI0MTMuMTExIiB5MT0iMTY2LjMwOSIgeDI9IjE0NS40NDUiIHkyPSIxNjYuMzA5Ij48c3RvcCBvZmZzZXQ9Ii4wMzQiIHN0eWxlPSJzdG9wLWNvbG9yOiNlNzAwZTYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMyOWFiZTIiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zMzEuOSAxNTIuNmgtNDIuN2wyMC42IDI3LjR6Ii8+PC9zdmc+",a=t(85893),m=function(l){var i=l.user,M=l.size,T=M===void 0?24:M,y=l.marginLeft,O=y===void 0?6:y;return i===void 0?(0,a.jsx)(u.C,{size:T,src:A,alt:"avatar"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.C,{size:T,className:_.avatar,src:i.avatar||r.Z.AVATAR_URL,alt:"avatar"}),(0,a.jsx)(n.Z,{title:"\u70B9\u51FB\u53EF\u67E5\u770B\u7528\u6237\u8D44\u6599",children:i.deleted_at?(0,a.jsx)("del",{children:(0,a.jsx)("a",{style:{marginLeft:O,fontSize:13,color:"#ccc"},href:"/#/member/".concat(i.id),rel:"noreferrer",children:i.name})}):(0,a.jsx)("a",{onClick:function(Z){Z.stopPropagation()},style:{marginLeft:O,fontSize:13,verticalAlign:"middle"},href:"/#/member/".concat(i.id),rel:"noreferrer",children:i.name})})]})}},99612:function(S,E,t){t.d(E,{e5:function(){return A},mi:function(){return C},dh:function(){return I},XN:function(){return g}});var j=t(63100),u=t(97857),n=t.n(u),_=t(37594),r=t(85893),c=function(a){var m=a.icon,l=a.text,i=a.font,M=i===void 0?13:i,T=a.style,y=a.onClick,O=a.back,f=O===void 0?!0:O;return f?(0,r.jsxs)("span",{onClick:y,style:n()({},T),children:[(0,r.jsx)(_.B,{type:m,style:{fontSize:M}})," ",l]}):(0,r.jsxs)("span",{onClick:y,style:n()({},T),children:[l," ",(0,r.jsx)(_.B,{style:{fontSize:M},type:m})]})},D=t(67294),o=t(51904),g={1:(0,r.jsxs)("span",{children:[(0,r.jsx)(j.Z,{theme:"outline",size:"14",fill:"#7ed321"})," HTTP"]}),2:(0,r.jsx)(c,{font:14,icon:"icon-GRPC",text:"GRPC"}),3:(0,r.jsx)(c,{font:14,icon:"icon-a-dubbo1",text:"Dubbo"})},x={1:(0,r.jsx)(o.Z,{color:"success",children:"HTTP"}),2:(0,r.jsx)(o.Z,{color:"orange",children:"GRPC"}),3:(0,r.jsx)(o.Z,{color:"blue",children:"DUBBO"})},I={GET:(0,r.jsx)(o.Z,{color:"success",children:"GET"}),POST:(0,r.jsx)(o.Z,{color:"blue",children:"POST"}),PUT:(0,r.jsx)(o.Z,{color:"cyan",children:"PUT"}),DELETE:(0,r.jsx)(o.Z,{color:"error",children:"DELETE"})},C={0:(0,r.jsx)(o.Z,{children:"\u666E\u901A"}),1:(0,r.jsx)(o.Z,{color:"blue",children:"\u6D4B\u8BD5\u8BA1\u5212"}),2:(0,r.jsx)(o.Z,{color:"success",children:"CI"}),3:(0,r.jsx)(o.Z,{children:"\u5176\u4ED6"})},A={0:(0,r.jsx)(o.Z,{color:"success",style:{marginLeft:8},children:"\u666E\u901A"}),1:(0,r.jsx)(o.Z,{color:"blue",style:{marginLeft:8},children:"\u524D\u7F6E"}),2:(0,r.jsx)(o.Z,{color:"warning",style:{marginLeft:8},children:"\u6570\u636E\u5DE5\u5382"})}},37594:function(S,E,t){t.d(E,{B:function(){return n}});var j=t(91321),u="//at.alicdn.com/t/font_915840_2b8lahxt5xv.js",n=(0,j.Z)({scriptUrl:u})},22763:function(S,E,t){var j=t(32983),u=t(82759),n=t(85893);E.Z=function(_){var r=_.desc,c=_.height,D=c===void 0?180:c,o=_.image,g=o===void 0?u.Z:o;return(0,n.jsx)(j.Z,{image:g,imageStyle:{height:D},description:r||"\u6682\u65E0\u6570\u636E"})}},91899:function(S,E,t){t.r(E);var j=t(97857),u=t.n(j),n=t(5574),_=t.n(n),r=t(30381),c=t.n(r),D=t(11609),o=t(80044),g=t(34041),x=t(52445),I=t(51904),C=t(4393),A=t(71230),a=t(15746),m=t(71577),l=t(64997),i=t(48483),M=t(30881),T=t(40110),y=t(43471),O=t(22763),f=t(90596),Z=t(67294),k=t(75574),q=t(19478),W=t(12554),Y=t(37594),K=t(99612),e=t(85893),F=o.Z.RangePicker,b=g.Z.Option,H=function(h){var p=h.user,P=h.report,Q=h.loading,z=h.dispatch,G=x.Z.useForm(),w=_()(G,1),U=w[0],R=p.userMap,V=P.reportData,N=P.pagination;(0,Z.useEffect)(function(){z({type:"user/fetchUserList"}),B()},[N.current]);var X=[{title:"\u6784\u5EFAid",dataIndex:"id",key:"id",fixed:"left",render:function(s,L){return L.failed_count===0&&L.error_count===0&&L.success_count>0?(0,e.jsxs)("span",{children:[(0,e.jsx)(i.Z,{twoToneColor:"#52c41a",style:{fontSize:13}})," #",(0,e.jsx)("a",{href:"/#/record/report/".concat(L.id),children:s})]}):(0,e.jsxs)("span",{children:[(0,e.jsx)(M.Z,{twoToneColor:"#eb2f96",style:{fontSize:13}})," #",(0,e.jsx)("a",{href:"/#/record/report/".concat(L.id),children:s})]})}},{title:"\u7C7B\u578B",dataIndex:"mode",key:"mode",fixed:"left",render:function(s){return K.mi[s]}},{title:"\u6267\u884C\u4EBA",dataIndex:"executor",key:"executor",fixed:"left",render:function(s){return s===0?(0,e.jsxs)("span",{children:[(0,e.jsx)(Y.B,{style:{fontSize:20},type:"icon-a-jiqirenrengongzhineng"})," pity\u673A\u5668\u4EBA"]}):(0,e.jsx)(W.Z,{user:R[s]})}},{title:"\u603B\u6570",key:"total",render:function(s,L){return(0,e.jsxs)(I.Z,{children:[" ",L.success_count+L.failed_count+L.skipped_count+L.error_count," "]})}},{title:"\u6210\u529F \u2714",dataIndex:"success_count",key:"success_count",render:function(s){return(0,e.jsxs)(I.Z,{color:"success",children:[" ",s," "]})}},{title:"\u5931\u8D25 \u274C",dataIndex:"failed_count",key:"failed_count",render:function(s){return(0,e.jsxs)(I.Z,{color:"error",children:[" ",s," "]})}},{title:"\u51FA\u9519 \u26A0",dataIndex:"error_count",key:"error_count",render:function(s){return(0,e.jsxs)(I.Z,{color:"warning",children:[" ",s," "]})}},{title:"\u8DF3\u8FC7 \u{1F389}",dataIndex:"skipped_count",key:"skipped_count",render:function(s){return(0,e.jsxs)(I.Z,{color:"blue",children:[" ",s," "]})}},{title:"\u5F00\u59CB\u65F6\u95F4",key:"start_at",dataIndex:"start_at"},{title:"\u4EFB\u52A1\u72B6\u6001",dataIndex:"status",key:"status",fixed:"right",render:function(s){return k.Z.STATUS[s]}},{title:"\u64CD\u4F5C",key:"operation",render:function(s,L){return(0,e.jsx)("a",{href:"/#/record/report/".concat(L.id),children:"\u67E5\u770B"})}}],B=function(){var s=U.getFieldsValue(),L=s.date[0].format("YYYY-MM-DD HH:mm:ss"),$=s.date[1].format("YYYY-MM-DD HH:mm:ss");z({type:"report/fetchReportList",payload:u()(u()({start_time:L,end_time:$},s),{},{page:N.current,size:N.pageSize,date:null})})},J=function(){U.resetFields(),U.setFieldsValue({date:[c()().startOf("week"),c()().endOf("week")]}),B()};return(0,e.jsx)(D._z,{title:"\u6784\u5EFA\u5386\u53F2",breadcrumb:null,children:(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(x.Z,{form:U,children:(0,e.jsxs)(A.Z,{gutter:[8,8],children:[(0,e.jsx)(a.Z,{span:8,children:(0,e.jsx)(x.Z.Item,{label:"\u6267\u884C\u4EBA",name:"executor",children:(0,e.jsxs)(g.Z,{placeholder:"\u9009\u62E9\u6267\u884C\u4EBA",style:{width:"90%"},allowClear:!0,children:[(0,e.jsxs)(b,{value:"pity\u673A\u5668\u4EBA",children:[(0,e.jsx)(Y.B,{style:{fontSize:20},type:"icon-a-jiqirenrengongzhineng"})," pity\u673A\u5668\u4EBA"]},"CPU"),Object.keys(R).map(function(d){return(0,e.jsx)(b,{value:d,children:(0,e.jsx)(W.Z,{user:R[d]})},d)})]})})}),(0,e.jsx)(a.Z,{span:10,children:(0,e.jsx)(x.Z.Item,{label:"\u6267\u884C\u65F6\u95F4",name:"date",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB/\u7ED3\u675F\u65F6\u95F4"}],initialValue:[c()().startOf("week"),c()().endOf("week")],children:(0,e.jsx)(F,{ranges:{\u4ECA\u5929:[c()(),c()()],\u672C\u5468:[c()().startOf("week"),c()().endOf("week")],\u672C\u6708:[c()().startOf("month"),c()().endOf("month")]},showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})})}),(0,e.jsx)(a.Z,{span:6,children:(0,e.jsxs)("div",{style:{float:"right"},children:[(0,e.jsxs)(m.ZP,{type:"primary",onClick:B,children:[(0,e.jsx)(T.Z,{})," \u67E5\u8BE2"]}),(0,e.jsxs)(m.ZP,{style:{marginLeft:8},onClick:J,children:[(0,e.jsx)(y.Z,{})," \u91CD\u7F6E"]})]})})]})}),(0,e.jsx)(A.Z,{gutter:[8,8],children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsx)(l.Z,{columns:X,dataSource:V,pagination:N,loading:Q.effects["report/fetchReportList"],onChange:function(s){z({type:"report/save",payload:{pagination:u()(u()({},N),{},{current:s.current})}})}})})})]})})};E.default=(0,f.connect)(function(v){var h=v.report,p=v.user,P=v.loading;return{report:h,loading:P,user:p}})(H)}}]);
